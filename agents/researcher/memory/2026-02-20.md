# 2026-02-20 记忆 (续) - v3

## NotebookLM Skill 安装和使用

### 安装详情

**Skill 名称**: notebooklm (NotebookLM Claude Code Skill)

**安装命令**:
```bash
npx clawhub install --force notebooklm-skill
```

**安装路径**: `/root/.openclaw/workspace/skills/notebooklm-skill/`

**安装状态**: ✅ 成功 (安装包 68KB)

---

### 什么是 NotebookLM Skill？

**NotebookLM Skill** 是一个 Claude Code 技能，让你的 Claude Code 本地客户端直接与 Google 的 **NotebookLM**（Notebook Language Model）进行交互。

**核心价值**：
- 📚 **基于文档的问答**：答案仅来自你上传的文档，减少幻觉
- 🔍 **智能检索**：在 50+ 文档中自动查找相关信息
- 🎯 **源文档支持**：每个答案包含源文件引用
- 💡 **零基础设施**：不需要向量数据库、嵌入、分块策略等

**工作流程**:
```
你的任务 → Claude 询问 NotebookLM → Gemini 合成答案 → Claude 写出正确代码
```

**核心优势**：
- ✅ 无需复制粘贴：Claude 直接询问并获取答案
- ✅ 多源关联：连接跨 50+ 文档的信息
- ✅ 引文支持：每个答案包含源引用
- ✅ 无需基础设施：不需要向量数据库、嵌入、分块策略

---

### 为什么使用 NotebookLM？

| 方案 | Token 成本 | 设置时间 | 幻觉率 | 答案质量 |
|------|-----------|---------|---------|-----------|
| **喂给 Claude** | 🔴 很高 | 瞬间 | 是 - 填补缺口 | 变量检索 |
| **Web 搜索** | 🟡 中等 | 瞬间 | 高 - 不可靠源 | 命中或 miss |
| **本地 RAG** | 🟡 中-高 | 数小时 | 中 - 检索缺口 | 取决于设置 |
| **NotebookLM Skill** | 🟢 最低 | 5 分钟 | **最低** - 仅源文档支持 | 专家综合 |

### NotebookLM 的优势

1. **由 Gemini 预处理**：上传一次文档，获取即时专家知识
2. **自然语言问答**：不只是检索 — 实际理解和综合
3. **多源关联**：连接 50+ 文档之间的信息
4. **引文支持**：每个答案包含源文件引用
5. **无需基础设施**：不需要向量数据库、嵌入、分块策略

---

### 快速开始

#### 步骤 1：检查技能
```bash
# 在 Claude Code 中说
"What skills do I have?"
```
Claude 会列出你的可用技能，包括 NotebookLM。

#### 步骤 2：认证（一次性）
```bash
# 在 Claude Code 中说
"Set up NotebookLM authentication"
```
*Chrome 窗口打开 → 使用 Google 账户登录*

#### 步骤 3：创建知识库
1. 访问 https://notebooklm.google.com
2. 创建笔记本 → 上传文档：
   - 📄 PDF 文件
   - 📝 Markdown 文件
   - 🌐 网站
   - 📦 GitHub 仓库
   - 🎥 YouTube 视频
   - 📚 多源文档
3. **公开分享** → 复制链接

#### 步骤 4：添加到库

**方式 A：让 Claude 自动发现（智能添加）**
```bash
# 使用笔记本链接查询其内容，然后添加到库
"Query this notebook about its content and add it to my library: [链接]"
```
Claude 会自动查询笔记本内容，然后用适当的元数据添加它。

**方式 B：手动添加**
```bash
# 手动添加（如果提供所有详情）
"Add this NotebookLM to my library: [链接]"
```
Claude 会要求名称和主题，然后保存以供将来使用。

#### 步骤 5：开始研究
```bash
# 示例查询
"What does my React docs say about hooks?"
"What are my vn.py config settings?"
"Explain the authentication flow in my project"
```
Claude 自动选择正确的笔记本并直接从 NotebookLM 获取答案。

---

### 核心功能

#### 源文档响应
NotebookLM 通过仅在文档中提供信息来显著减少幻觉。如果信息不可用，它会指出不确定性而不是编造内容。

#### 直接集成
无需在 NotebookLM 浏览器和编辑器之间复制粘贴。Claude 提出问题并以编程方式接收答案。

#### 智能库管理
使用标签和描述保存 NotebookLM 链接。Claude 自动为你的任务选择正确的笔记本。

#### 自动认证
一次性 Google 登录，然后跨会话持久化认证状态。

#### 自包含环境
所有内容运行在技能文件夹中，带有隔离的 Python 环境（`.venv`）。无需全局安装。

#### 类人化自动化
使用逼真的打字速度和交互模式避免检测。

---

### 常用命令

| 你说什么 | 发生什么 |
|-----------|-----------|
| *"设置 NotebookLM 认证"* | 打开 Chrome 进行 Google 登录 |
| *"将 [链接] 添加到我的 NotebookLM 库"* | 使用元数据保存笔记本 |
| *"显示我的 NotebookLM 笔记本"* | 列出所有保存的笔记本 |
| *"关于 [主题] 询问我的 API 文档"* | 查询相关笔记本 |
| *"使用 [笔记本名称] 笔记本"* | 设置活动笔记本 |
| *"清除 NotebookLM 数据"* | 重新开始（保留库） |

---

### 实际应用场景

#### 场景 1：车间手册查询
**用户询问**："检查我的 Suzuki GSR 600 车间手册的制动液类型、发动机机油规格和后桥扭矩。"

**Claude 自动**：
- 使用 NotebookLM 进行认证
- 全面询问每个规格
- 被提示时跟进"那是你需要的所有信息吗？"
- 提供准确的规格：DOT 4 制动液、SAE 10W-40 机油、100 N·m 后桥扭矩

#### 场景 2：构建无幻觉
**你**："我需要为 Gmail 垃圾邮件过滤构建一个 n8n 工作流。使用我的 n8n 笔记本。"

**Claude 的内部流程**：
```
→ 加载 NotebookLM 技能
→ 激活 n8n 笔记本
→ 提出综合问题并附上跟进
→ 从多个查询合成完整答案
```

**结果**：第一次尝试即可用的工作流，无调试的幻觉 API。

---

### 技术细节

#### 核心技术
- **Patchright**：浏览器自动化库（基于 Playwright）
- **Python**：该技能的实现语言
- **隐身技术**：类人打字和交互模式

#### 依赖
- **playwright==1.55.2**：浏览器自动化
- **python-dotenv==1.0.0**：环境配置
- 首次使用时在 `.venv` 中自动安装

#### 数据存储
所有数据存储在技能目录的 `data/` 中：
```
~/.claw/skills/notebooklm-skill/data/
├── library.json       - 你的笔记本库，包含元数据
├── auth_info.json     - 认证状态信息
└── browser_state/     - 浏览器 Cookie 和会话数据
```

**安全说明**：
- `data/` 目录包含敏感的身份验证数据和个人笔记本
- 它通过 `.gitignore` 自动排除
- 永远不要手动提交或共享 `data/` 目录的内容

---

### 限制

#### 技能特定
- **仅限本地 Claude Code** - 不在 Web UI 中工作（沙箱限制）
- **无会话持久化** - 每个问题都是独立的
- **无跟进上下文** - 无法引用"之前的答案"

#### NotebookLM 限制
- **速率限制** - 免费层级有每日查询限制（50 次/天）
- **手动上传** - 必须先将文档上传到 NotebookLM
- **共享要求** - 笔记本必须公开共享

---

### 最佳实践

1. **始终使用 run.py** - 它自动处理环境
2. **先检查认证** - 任何操作之前
3. **使用跟进问题** - 不要在第一个答案时停止
4. **包含上下文** - 每个问题都是独立的
5. **综合答案** - 在回复用户之前组合多个响应

---

### 总结

**NotebookLM Skill** 的主要能力：

1. ✅ **文档驱动的问答**：答案仅来自你上传的文档
2. ✅ **智能检索**：在 50+ 文档中自动查找相关信息
3. ✅ **引文支持**：每个答案都有源文件引用
4. ✅ **零基础设施**：无需向量数据库、嵌入、分块
5. ✅ **快速上手**：5 分钟设置，立即可用
6. ✅ **浏览器自动化**：模拟人类操作，避免检测
7. ✅ **持久化认证**：一次性设置，跨会话保持

**适用场景**：
- 📄 代码文档研究
- 📖 API 参考查询
- 📝 配置文件解读
- 📚 项目文档学习
- 🐛 代码示例查找
- 📝 最佳实践查询

**对比传统方法**：

| 方法 | 准确性 | 检索质量 | 幻觉率 | 设置难度 |
|------|-------|---------|---------|---------|
| 喂给 Claude | 低 | 可变 | 高 | 瞬间 |
| Web 搜索 | 中 | 高 | 高 | 瞬间 |
| 本地 RAG | 中高 | 中 | 中 | 高 |
| **NotebookLM Skill** | **最高** | **专家级** | **最低** | **5 分钟** |

---

**安装时间**: 2026-02-20 15:12 UTC
**状态**: ✅ 安装完成，可立即使用
